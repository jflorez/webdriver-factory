# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

steps:
  - script: |
      sudo apt-get update
      sudo apt-get install -y wget software-properties-common
      wget -qO - https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public | apt-key add -
      sudo add-apt-repository --yes https://adoptopenjdk.jfrog.io/adoptopenjdk/deb/
      sudo apt-get update
      sudo apt-get install -y adoptopenjdk-16-hotspot
  - script: |
      java -version
      javac -version
    env:
      JAVA_HOME: /usr/lib/jvm/adoptopenjdk-16-hotspot-amd64
      M2_HOME: /opt/maven
      MAVEN_HOME: /opt/maven
      PATH: $M2_HOME/bin:$PATH
# - tasks: Maven@3
#   inputs:
#     mavenPomFile: 'pom.xml'
#     mavenOptions: '-Xmx3072m'
#     testResultsFiles: '**/TEST-*.xml'
#     goals: 'test'
