# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

steps:
  - bash: |
      wget https://github.com/adoptium/temurin16-binaries/releases/download/jdk-16.0.2%2B7/OpenJDK16U-jdk_x64_linux_hotspot_16.0.2_7.tar.gz
      pwd
      ls -lha
  - task: JavaToolInstaller@0
    inputs:
      versionSpec: '16' 
      jdkArchitectureOption: x64
      jdkSourceOption: LocalDirectory
      jdkFile: OpenJDK16U-jdk_x64_linux_hotspot_16.0.2_7.tar.gz
      jdkDestinationDirectory: "/builds/binaries/externals"
      cleanDestinationDirectory: true
  - bash: |
      java -version
      javac -version
      mvn -version
# - tasks: Maven@3
#   inputs:
#     mavenPomFile: 'pom.xml'
#     mavenOptions: '-Xmx3072m'
#     testResultsFiles: '**/TEST-*.xml'
#     goals: 'test'
